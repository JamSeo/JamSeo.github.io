---
layout: single
title:  "[ë°±ì¤€] #14888 ì—°ì‚°ì ë¼ì›Œë„£ê¸°"
categories: Algorithm
toc: true
---

[ë°±ì¤€ #12865](https://www.acmicpc.net/problem/14888){: .btn .btn--primary}
Level : ğŸ’£

---

## âœLogic
Nê°œì˜ ì •ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ìˆ˜ì—´ê³¼ N-1ê°œì˜ ì—°ì‚°ìê°€ ì£¼ì–´ì§„ë‹¤.  
ìˆ˜ì™€ ìˆ˜ ì‚¬ì´ì— ì—°ì‚°ìë¥¼ í•˜ë‚˜ì”© ë„£ì–´ì„œ ìˆ˜ì‹ì„ ë§Œë“¤ê³ , ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ˜ì‹ ê²°ê³¼ì˜ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.   

ì´ ë¬¸ì œì˜ í’€ì´ ê³¼ì •ì€ 2ê°€ì§€ê°€ ìˆë‹¤.  
<br>

### ìˆœì—´(Permutations)
ì—°ì‚°ìì˜ ê¸°í˜¸ë“¤ì„ ë°›ì•„, ìˆœì—´ì„ ì´ìš©í•´ ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³„ì‚°í•œë‹¤.  
<br>

### DFS
DFS ë§¤ì„œë“œ í•¨ìˆ˜ì— ì…ë ¥ë°›ì€ ìˆ˜ì—´ì˜ ê°œìˆ˜ ë§Œí¼ ê³„ì† ë°˜ë³µí•´ì„œ ì¬ê·€ì ìœ¼ë¡œ ê³„ì‚°í•œë‹¤.  
<br>

í•„ìëŠ” ì²« ë²ˆì§¸ ìˆœì—´ë¡œ í’€ê³  ì‹¤í–‰ì‹œê°„ 2788msê°€ ê±¸ë ¸ê³ ,  

ê°™ì€ ìŠ¤í„°ë””ì›ì¸ Jupearlì€ DFSë¡œ êµ¬í˜„í–ˆìœ¼ë©° ì‹¤í–‰ì‹œê°„ì€ 324ms ê±¸ë ¸ë‹¤.  

ì¦‰, **DFSë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ì‹œê°„ë³µì¡ë„ê°€ í›¨ì”¬ ë‚®ë‹¤**ëŠ”ê±¸ ì•Œ ìˆ˜ ìˆì—ˆê³ , ì•„ë˜ì— ë‘ ì½”ë“œë¥¼ ëª¨ë‘ ì†Œê°œí•˜ê² ë‹¤.  
<br>

---

## ğŸ’»Code

```
from itertools import permutations

def calculator(operator, num1, num2):  # ê³„ì‚° í•¨ìˆ˜
    if operator == "+":`
        return num1 + num2
    elif operator == "-":
        return num1 - num2
    elif operator == "*":
        return num1 * num2
    else:
        if num1 < 0:
            return -(abs(num1) // num2)
        else:
            return num1 // num2

n = int(input())
nums = list(map(int, input().split()))  # ìˆ«ìì—´
cnt = list(map(int, input().split()))   # ì—°ì‚°ìë³„ ê°œìˆ˜
cal = ["+", "-", "*", "/"]

# operators: n-1ê°œì˜ ì—°ì‚°ì ë¦¬ìŠ¤íŠ¸
operators = []
temp = ''
for i in range(4):
    if cal[i] * cnt[i]:
        temp += cal[i] * cnt[i]
operators = list(temp)

# operatorsë¡œ ìˆœì—´ ë§Œë“¤ê¸°
permute = list(permutations(operators, n-1))

# ê³„ì‚°í•˜ê¸°
max_, min_ = -1e9, 1e9
res = nums[0]
for i in range(len(permute)):
    for j in range(n-1):
        res = calculator(permute[i][j], res, nums[j+1])
    # ê³„ì‚° ëë‚˜ë©´?
    max_ = max(max_, res)
    min_ = min(min_, res)
    res = nums[0]

print(max_, min_, sep='\n')
```
<br>

## ğŸ™‹â€â™€ï¸REF
_**(thx to Jupearl)**_

```
cal_dict = {
    0:lambda x, y : x + y,
    1:lambda x, y : x - y,
    2:lambda x, y : x * y,
    3:lambda x, y : int(x / y)
}

def DFS(num_list):
    global cal, res, min_res, max_res
    if len(num_list) == 1:
        if num_list[0] <= min_res:
            min_res = num_list[0]
        if num_list[0] >= max_res:
            max_res = num_list[0]
        return
    
    for idx in range(4):
        if cal[idx]:
            cal[idx] -= 1
            x, y = num_list.pop(0), num_list.pop(0)
            res = cal_dict[idx](x, y)
            DFS([res]+num_list)
            cal[idx] += 1
            res -= cal_dict[idx](x, y)
            num_list = [x, y] + num_list


N = int(input())
num_list = list(map(int,input().split()))
cal = list(map(int,input().split()))

min_res = 10**22
max_res = -10**22
res = 0
DFS(num_list)
print(max_res)
print(min_res)
```